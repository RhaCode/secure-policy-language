#!/bin/bash

echo "=== Installing backend dependencies ==="
python -m pip install --upgrade pip
pip install -r backend/requirements.txt

echo "=== Installing frontend dependencies ==="
cd frontend
npm install
npm run build      # Vite will output to /dist
cd ..

echo "=== Preparing backend/static folder ==="
mkdir -p backend/static

echo "=== Copying Vite dist/ into backend/static ==="
cp -r frontend/dist/* backend/static/

echo "=== Build step finished ==="
